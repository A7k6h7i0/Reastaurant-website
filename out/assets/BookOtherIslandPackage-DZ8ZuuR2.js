import{a as b,r as a,j as e}from"./index-Dh6MEsbL.js";import{o as N}from"./otherIslandPackages-o_itcoSc.js";const k="http://localhost:5000",w=()=>{const{id:n}=b(),l=a.useMemo(()=>N.find(s=>s.id===n),[n]),[i,h]=a.useState(""),[o,x]=a.useState(""),[r,u]=a.useState(""),[t,m]=a.useState(""),[p,j]=a.useState(!1),[d,c]=a.useState(!1);if(a.useEffect(()=>{m(`DD-${Date.now().toString(36).toUpperCase()}`)},[]),!l)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("p",{className:"text-lg font-semibold text-red-600",children:"Package not found"})});const g=async()=>{if(!i||!o||!r){alert("Please fill all details");return}c(!0);try{const s=await fetch(`${k}/api/book-tour`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:i,email:o,phone:r,token:t,packageId:l.code})});if(!s.ok){const f=await s.text();throw new Error(f||"Booking failed")}j(!0)}catch(s){console.error(s),alert("Booking failed. Please try again.")}finally{c(!1)}};return e.jsxs("section",{className:"max-w-6xl mx-auto px-6 py-12 space-y-10",children:[e.jsxs("div",{className:"bg-white rounded-3xl shadow p-8 space-y-6",children:[e.jsx("h1",{className:"text-3xl font-bold",children:l.title}),e.jsx("p",{className:"text-gray-600",children:l.days}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:"Hotels Used"}),e.jsxs("ul",{className:"list-disc pl-6",children:[e.jsxs("li",{children:[e.jsx("b",{children:"Baratang:"})," ",l.hotels.baratang.join(", ")]}),l.hotels.havelock.length>0&&e.jsxs("li",{children:[e.jsx("b",{children:"Havelock:"})," ",l.hotels.havelock.join(", ")," "]}),e.jsxs("li",{children:[e.jsx("b",{children:"Port Blair:"})," ",l.hotels.portBlair.join(", ")]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:"Tour Itinerary"}),l.itinerary.map(s=>e.jsxs("p",{children:[e.jsxs("strong",{children:[s.day,":"]})," ",s.description]},s.day))]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:"Package Includes"}),e.jsx("ul",{className:"list-disc pl-6",children:l.includes.map(s=>e.jsx("li",{children:s},s))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:"Package Excludes"}),e.jsx("ul",{className:"list-disc pl-6",children:l.excludes.map(s=>e.jsx("li",{children:s},s))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:"Important Notes"}),e.jsx("ul",{className:"list-disc pl-6",children:l.notes.map(s=>e.jsx("li",{children:s},s))})]})]}),e.jsxs("div",{className:"bg-white rounded-3xl shadow p-8 space-y-4",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Send Booking Request"}),p?e.jsxs("p",{className:"text-green-600 font-semibold",children:["âœ… Booking successful. Token: ",e.jsx("strong",{children:t})]}):e.jsxs(e.Fragment,{children:[e.jsx("input",{className:"w-full border p-3 rounded",placeholder:"Full Name",onChange:s=>h(s.target.value)}),e.jsx("input",{className:"w-full border p-3 rounded",placeholder:"Mobile Number",onChange:s=>u(s.target.value)}),e.jsx("input",{className:"w-full border p-3 rounded",placeholder:"Email Address",onChange:s=>x(s.target.value)}),e.jsx("input",{className:"w-full border p-3 rounded bg-gray-100",value:t,readOnly:!0}),e.jsx("button",{onClick:g,disabled:d,className:"bg-forest text-white px-6 py-3 rounded-xl disabled:opacity-60",children:d?"Sending...":"Send Booking Request"})]})]})]})};export{w as default};
//# sourceMappingURL=BookOtherIslandPackage-DZ8ZuuR2.js.map
