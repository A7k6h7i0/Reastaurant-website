import{a as b,r as a,j as e}from"./index-ajRfIiOA.js";import{o as j}from"./otherIslandPackages-Bh5qSRt9.js";const N=()=>{const{id:d}=b(),t=a.useMemo(()=>j.find(s=>s.id===d),[d]),[o,u]=a.useState(""),[l,h]=a.useState(""),[r,p]=a.useState(""),[n,m]=a.useState(""),[x,g]=a.useState(!1),[i,c]=a.useState(!1);if(a.useEffect(()=>{m(`DD-${Date.now().toString(36).toUpperCase()}`)},[]),!t)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("p",{className:"text-lg font-semibold",children:"Loading package details…"})});const f=async()=>{if(!o||!l||!r){alert("Please fill all details");return}c(!0);try{if(!(await fetch("http://localhost:5000/api/book-tour",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:o,email:l,phone:r,token:n,packageId:t.code})})).ok)throw new Error("Booking API failed");g(!0)}catch(s){console.error(s),alert("Booking failed. Please try again.")}finally{c(!1)}};return e.jsxs("section",{className:"max-w-6xl mx-auto px-6 py-12 space-y-10",children:[e.jsxs("div",{className:"bg-white rounded-3xl shadow p-8 space-y-6",children:[e.jsx("h1",{className:"text-3xl font-bold",children:t.title}),e.jsx("p",{className:"text-gray-600",children:t.days})]}),e.jsxs("div",{className:"bg-white rounded-3xl shadow p-8 space-y-4",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Book This Tour"}),x?e.jsxs("p",{className:"text-green-600 font-semibold",children:["✅ Booking successful. Your token: ",e.jsx("strong",{children:n})]}):e.jsxs(e.Fragment,{children:[e.jsx("input",{placeholder:"Full Name",value:o,onChange:s=>u(s.target.value),className:"w-full border p-3 rounded"}),e.jsx("input",{placeholder:"Mobile Number",value:r,onChange:s=>p(s.target.value),className:"w-full border p-3 rounded"}),e.jsx("input",{placeholder:"Email Address",value:l,onChange:s=>h(s.target.value),className:"w-full border p-3 rounded"}),e.jsx("input",{value:n,readOnly:!0,className:"w-full border p-3 rounded bg-gray-100"}),e.jsx("button",{onClick:f,disabled:i,className:"bg-forest text-white px-6 py-3 rounded-xl disabled:opacity-60",children:i?"Booking...":"Book Tour"})]})]})]})};export{N as default};
//# sourceMappingURL=BookOtherIslandPackage-BWMJ0QFs.js.map
