import{a as f,r as a,j as e}from"./index-ajRfIiOA.js";import{p as b}from"./packages-DM5ThbDS.js";const k=()=>{const{id:r}=f(),l=a.useMemo(()=>b.find(s=>s.id===r),[r]),[t,h]=a.useState(""),[n,x]=a.useState(""),[i,m]=a.useState(""),[o,p]=a.useState(""),[u,j]=a.useState(!1),[c,d]=a.useState(!1);if(a.useEffect(()=>{p(`DDR-${Date.now().toString(36).toUpperCase()}`)},[]),!l)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("p",{className:"text-lg font-semibold",children:"Loading package details…"})});const g=async()=>{if(!t||!n||!i){alert("Please fill all details");return}d(!0);try{if(!(await fetch("http://localhost:5000/api/book-tour",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t,email:n,phone:i,token:o,packageId:l.id})})).ok)throw new Error("Booking API failed");j(!0)}catch(s){console.error(s),alert("Booking failed. Please try again.")}finally{d(!1)}};return e.jsxs("section",{className:"max-w-5xl mx-auto px-6 py-12 space-y-10",children:[e.jsxs("div",{className:"bg-white rounded-3xl shadow p-8 space-y-6",children:[e.jsx("h1",{className:"text-3xl font-bold",children:l.title}),e.jsx("p",{className:"text-gray-600",children:l.nights}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Room Tariff"}),e.jsx("ul",{className:"list-disc pl-6 space-y-1",children:l.roomTariff.map(s=>e.jsx("li",{children:s},s))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Other Components"}),e.jsx("ul",{className:"list-disc pl-6 space-y-1",children:l.backendComponents.map(s=>e.jsx("li",{children:s},s))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Package Includes"}),e.jsx("ul",{className:"list-disc pl-6 space-y-1",children:l.includes.map(s=>e.jsx("li",{children:s},s))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Package Excludes"}),e.jsx("ul",{className:"list-disc pl-6 space-y-1",children:l.excludes.map(s=>e.jsx("li",{children:s},s))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Important Notes"}),e.jsx("ul",{className:"list-disc pl-6 space-y-1",children:l.notes.map(s=>e.jsx("li",{children:s},s))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Tour Itinerary"}),e.jsx("div",{className:"space-y-3",children:l.itinerary.map(s=>e.jsxs("p",{children:[e.jsxs("strong",{children:[s.day,":"]})," ",s.description]},s.day))})]})]}),e.jsxs("div",{className:"bg-white rounded-3xl shadow p-8 space-y-4",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Book This Tour"}),u?e.jsxs("p",{className:"text-green-600 font-semibold",children:["✅ Booking successful. Your token: ",e.jsx("strong",{children:o})]}):e.jsxs(e.Fragment,{children:[e.jsx("input",{placeholder:"Full Name",value:t,onChange:s=>h(s.target.value),className:"w-full border p-3 rounded"}),e.jsx("input",{placeholder:"Mobile Number",value:i,onChange:s=>m(s.target.value),className:"w-full border p-3 rounded"}),e.jsx("input",{placeholder:"Email Address",value:n,onChange:s=>x(s.target.value),className:"w-full border p-3 rounded"}),e.jsx("input",{value:o,readOnly:!0,className:"w-full border p-3 rounded bg-gray-100"}),e.jsx("button",{onClick:g,disabled:c,className:"bg-forest text-white px-6 py-3 rounded-xl disabled:opacity-60",children:c?"Booking...":"Book Tour"})]})]})]})};export{k as default};
//# sourceMappingURL=BookPackage-BDrsAB4n.js.map
